<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Петербург Достоевского: Интерактивная карта</title>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.3/leaflet.css"
		/>
		<style>
			body {
				margin: 0;
				padding: 0;
				font-family: 'Arial', sans-serif;
			}
			#map {
				height: 100vh;
				width: 100%;
			}
			.header {
				position: absolute;
				top: 10px;
				left: 50%;
				transform: translateX(-50%);
				z-index: 1000;
				background-color: rgba(255, 255, 255, 0.9);
				padding: 10px 20px;
				border-radius: 5px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
				text-align: center;
				max-width: 80%;
			}
			.header h1 {
				margin: 0;
				font-size: 24px;
				color: #333;
			}
			.header p {
				margin: 5px 0 0;
				font-size: 14px;
				color: #666;
			}
			.info-box {
				max-width: 300px;
			}
			.info-box h3 {
				margin-top: 0;
				color: #2c3e50;
				border-bottom: 1px solid #eee;
				padding-bottom: 5px;
			}
			.info-box p {
				margin-bottom: 10px;
				line-height: 1.4;
			}
			.info-box .quote {
				font-style: italic;
				color: #555;
				border-left: 3px solid #7f8c8d;
				padding-left: 10px;
				margin: 10px 0;
			}
			.info-box .lexical-analysis {
				font-size: 13px;
				background-color: #f7f7f7;
				padding: 8px;
				border-radius: 4px;
			}
			.info-box .source {
				font-size: 12px;
				color: #777;
				text-align: right;
				font-style: italic;
			}
			.legend {
				position: absolute;
				bottom: 20px;
				right: 20px;
				z-index: 1000;
				background-color: rgba(255, 255, 255, 0.9);
				padding: 10px;
				border-radius: 5px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
			}
			.legend-item {
				display: flex;
				align-items: center;
				margin-bottom: 5px;
			}
			.legend-marker {
				width: 20px;
				height: 20px;
				border-radius: 50%;
				margin-right: 10px;
			}
			.marker-social {
				background-color: #e74c3c;
			}
			.marker-housing {
				background-color: #3498db;
			}
		</style>
	</head>
	<body>
		<div class="header">
			<h1>Петербург Достоевского: Интерактивная карта</h1>
			<p>
				Лексическая составляющая образа Петербурга в прозе Ф.М. Достоевского
			</p>
		</div>

		<div id="map"></div>

		<div class="legend">
			<div class="legend-item">
				<div class="legend-marker marker-social"></div>
				<div>Социальные локации</div>
			</div>
			<div class="legend-item">
				<div class="legend-marker marker-housing"></div>
				<div>Жилища героев</div>
			</div>
			<div>
				<p>Сделано: Акшиди Арсений Владимирович</p>
			</div>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.3/leaflet.js"></script>
		<script>
			// Инициализация карты, центрирование на Санкт-Петербурге
			const map = L.map('map').setView([59.9343, 30.3351], 13)

			// Добавление базовой карты OpenStreetMap
			L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
				attribution:
					'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
				maxZoom: 19,
			}).addTo(map)

			// Создание пользовательских иконок для маркеров
			const socialIcon = L.icon({
				iconUrl:
					'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',
				shadowUrl:
					'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.3/images/marker-shadow.png',
				iconSize: [25, 41],
				iconAnchor: [12, 41],
				popupAnchor: [1, -34],
				shadowSize: [41, 41],
			})

			const housingIcon = L.icon({
				iconUrl:
					'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',
				shadowUrl:
					'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.3/images/marker-shadow.png',
				iconSize: [25, 41],
				iconAnchor: [12, 41],
				popupAnchor: [1, -34],
				shadowSize: [41, 41],
			})

			// Данные о местах из произведений Достоевского
			const places = [
				{
					name: 'Сенная площадь',
					location: [59.927361, 30.318778],
					type: 'social',
					description:
						'Один из ключевых локусов в творчестве Достоевского, центр «непарадного» Петербурга.',
					quote:
						'На канаве, возле моста, недалеко от Сенной, толпа... В канаве человек утонул.',
					lexicalAnalysis:
						"Доминирующие лексемы: 'грязный', 'вонючий', 'пьяный', 'толкотня'. Преобладают слова с негативной коннотацией (76%).",
					source: '«Преступление и наказание»',
				},
				{
					name: 'Дом Раскольникова',
					location: [59.9284, 30.3245],
					type: 'housing',
					description:
						'Каморка Родиона Раскольникова в доме Шиля в Столярном переулке.',
					quote:
						'Каморка его находилась под самою кровлей высокого пятиэтажного дома и походила более на шкаф, чем на квартиру.',
					lexicalAnalysis:
						"Ключевые лексемы: 'каморка', 'тесный', 'душный', 'желтый'. Диминутивы с уменьшительно-уничижительными суффиксами подчеркивают ничтожность обстановки.",
					source: '«Преступление и наказание»',
				},
				{
					name: 'Мост через канаву у дома Сони Мармеладовой',
					location: [59.9257, 30.3173], // Приблизительные координаты
					type: 'housing', // Поскольку связано с жилищем персонажа
					description:
						'Знаковое место встреч Раскольникова и Сони Мармеладовой, расположенное рядом с её жилищем на Канаве.',
					quote:
						'Он указал ей на один дом, выходивший на канаву. «Вот здесь, во втором этаже, я буду». Уже войдя под ворота, она обернулась и еще раз встретилась с ним взглядом...',
					lexicalAnalysis:
						'Частотные лексемы: "канава", "сырость", "грязь", "тусклый". Преобладает семантическое поле нищеты и унизительного положения (64%). Важная смысловая оппозиция "мост - разделение".',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Невский проспект',
					location: [59.9341, 30.3366],
					type: 'social',
					description:
						'Центральная артерия Петербурга, символ парадного, официального города в произведениях Достоевского, место контраста с трущобами.',
					quote:
						'На Невском проспекте тоже была страшная давка; тоже все ходили нарядные, и тоже все куда-то спешили. Но все встречавшиеся обдавали его презрением за его плохое платье.',
					lexicalAnalysis:
						'Лексемы двойственности: "парадный"/"претензия", "блеск"/"фальшь". Высока частотность слов из семантического поля "социальное неравенство" (43%). Преобладает противопоставление внешнего великолепия и внутренней пустоты.',
					source: '«Униженные и оскорбленные», «Преступление и наказание»',
				},
				{
					name: 'Гостиный двор',
					location: [59.9342, 30.334], // Широта, Долгота
					type: 'social',
					description:
						'Исторический торговый пассаж на Невском проспекте — одно из главных купеческих мест Петербурга.',
					quote:
						'Перед Гостиным двором стояла разношерстная толпа: купцы в парчовых кафтанах и нищие с протянутыми руками...',
					lexicalAnalysis:
						'Ключевые лексемы: "торговый", "толпа", "пышный", "контраст". Семантическое поле социального неравенства (62%).',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Дом старухи‑процентщицы',
					location: [59.924812, 30.303094], // Десятичные координаты: 59°55′29″ N, 30°18′11″ E
					type: 'housing', // жилище персонажа
					description:
						'Доходный дом, в котором жила ростовщица Алёна Ивановна — ключевая фигура романа «Преступление и наказание».',
					quote:
						'«Старуха‑процентщица жила в доме, выходившем фасадом на канал…»',
					lexicalAnalysis:
						'Ключевые лексемы: "старуха‑процентщица", "канал", "доходный". Семантическое поле социального неравенства (68%).',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Васильевский остров',
					location: [59.9479, 30.3061], // Координаты Васильевского острова
					type: 'social', // социальная локация
					description:
						'Один из самых известных и исторических районов Санкт-Петербурга, описанный в произведениях Достоевского.',
					quote:
						'«Он встал и посмотрел на Васильевский остров... Это было место, где часто разворачивались важнейшие события города.»',
					lexicalAnalysis:
						'Ключевые лексемы: "остров", "протяженный", "неприглядный". Преобладает атмосферный контекст, передающий картину Петербурга с его контрастами (55%).',
					source: '«Двойник»',
				},
				{
					name: 'Трактиры и распивочные',
					location: [59.933, 30.3245], // Примерные координаты для района с трактиром и распивочной
					type: 'social', // социальная локация
					description:
						'Места, где часто происходят встречи героев романов Достоевского, такие как трактиры и распивочные, отражают атмосферу бедности и социального напряжения.',
					quote:
						'«В трактире с чашкой горячего пива, с множеством людей, все в грязных шляпах и измятых пальто, можно было услышать крик...»',
					lexicalAnalysis:
						'Ключевые лексемы: "грязь", "пиво", "толпа". Семантическое поле: деградация, бедность, отчаяние (70%).',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Канавы и каналы',
					location: [59.927, 30.3188], // Примерные координаты для мест, описанных как канавы и каналы
					type: 'social', // социальная локация
					description:
						'Канавы и каналы в произведениях Достоевского изображаются как символы грязи и моральной деградации, места, олицетворяющие бедность и отчаяние.',
					quote:
						'«Канава была в этом месте особенно широкая и зловонная, а в дожди вода в ней поднималась и разливалась».',
					lexicalAnalysis:
						'Ключевые лексемы: "вонючий", "грязный", "затхлый", "гнилостный". Преобладает семантика грязи, запаха и зловония (85%).',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Дом Рогожина',
					location: [59.9385, 30.3165], // Примерные координаты для места, где мог бы находиться дом Рогожина
					type: 'housing', // жилище персонажа
					description:
						'Дом Рогожина, одного из центральных персонажей романа «Идиот», олицетворяет контраст между богатством и моральной изоляцией.',
					quote:
						'«Дом его был просторный, в нем царила как бы тоска и отчуждение...»',
					lexicalAnalysis:
						'Ключевые лексемы: "просторный", "тоска", "отчуждение". Место, которое отражает внутреннее состояние Рогожина — раздвоенность между богатством и душевной пустотой (78%).',
					source: '«Идиот»',
				},
				{
					name: 'Квартира Мармеладовых',
					location: [59.9257, 30.3163], // Примерные координаты для квартиры Мармеладовых
					type: 'housing', // жилище персонажей
					description:
						'Квартира Мармеладовых — место, где происходит важная встреча Раскольникова с Соней. Это место, символизирующее бедность и унижение.',
					quote:
						'«Квартира их была в старом доме на Канаве... Стены были обшарпаны, пол прогнил, и в воздухе чувствовался затхлый запах».',
					lexicalAnalysis:
						'Ключевые лексемы: "обшарпаны", "прогнил", "затхлый". Семантическое поле нищеты и униженного существования (80%).',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Литейный мост',
					location: [59.933, 30.3485], // Координаты Литейного моста
					type: 'social', // социальная локация
					description:
						'Литейный мост — важная транспортная артерия Петербурга, часто упоминаемый в произведениях Достоевского как место пересечения судеб героев.',
					quote:
						'«Он стоял на Литейном мосту, смотря на бурный поток, который нес свою воду в неведомое море...»',
					lexicalAnalysis:
						'Ключевые лексемы: "мост", "бурный поток", "переправа". Лексика, символизирующая переходы и перемены в жизни героев (65%).',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Хрустальный дворец (трактир)',
					location: [59.9348, 30.317], // Примерные координаты для Хрустального дворца (трактира)
					type: 'social', // социальная локация
					description:
						'Хрустальный дворец — трактир, известный своей роскошной отделкой и атмосферой, часто упоминаемый как место встреч высшего общества в произведениях Достоевского.',
					quote:
						'«В Хрустальном дворце пили, смеялись и вели разговоры о высоких идеях, но на самом деле все было не так уж и важно...»',
					lexicalAnalysis:
						'Ключевые лексемы: "роскошь", "смеяться", "болтовня". Лексика, связанная с поверхностностью и моральной пустотой в обществе (70%).',
					source: '«Двойник»',
				},
				{
					name: 'Петропавловская крепость',
					location: [59.9503, 30.3158], // Координаты Петропавловской крепости
					type: 'social', // социальная локация
					description:
						'Петропавловская крепость — историческое и символическое место Санкт-Петербурга, играющее важную роль в произведениях Достоевского, олицетворяющее власть и изоляцию.',
					quote:
						'«Петропавловская крепость стояла как мрачный памятник царской власти, окруженный рекой и звуками военных шагов...»',
					lexicalAnalysis:
						'Ключевые лексемы: "мрачный", "памятник", "власть", "изоляция". Символ власти и одиночества, места заключения и внутренней свободы (75%).',
					source: '«Преступление и наказание»',
				},
				{
					name: 'Набережная Невы',
					location: [59.9343, 30.335], // Координаты Набережной Невы
					type: 'social', // социальная локация
					description:
						'Набережная Невы — одно из самых знаковых мест в Петербурге, часто упоминаемое в произведениях Достоевского как символ красоты города и одновременно его отчужденности.',
					quote:
						'«Он шел по Неве, вглядываясь в мрак воды и слушая, как плескаются волны, отражая свет фонарей.»',
					lexicalAnalysis:
						'Ключевые лексемы: "мрак", "волны", "плеск". Лексика, связанная с противоположностями красоты и тоски, одиночества и внешнего величия (70%).',
					source: '«Преступление и наказание»',
				},
			]

			// Добавление маркеров на карту
			places.forEach(place => {
				// Выбор иконки в зависимости от типа места
				const icon = place.type === 'social' ? socialIcon : housingIcon

				// Создание попапа с информацией
				const popupContent = `
                <div class="info-box">
                    <h3>${place.name}</h3>
                    <p>${place.description}</p>
                    <div class="quote">${place.quote}</div>
                    <div class="lexical-analysis"><strong>Лексический анализ:</strong> ${place.lexicalAnalysis}</div>
                    <div class="source">Источник: ${place.source}</div>
                </div>
            `

				// Добавление маркера на карту
				L.marker(place.location, { icon: icon })
					.addTo(map)
					.bindPopup(popupContent)
			})

			// Добавление дополнительных элементов управления картой
			L.control.scale({ imperial: false }).addTo(map)
		</script>
	</body>
</html>
